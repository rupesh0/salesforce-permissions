<template>
  <!-- sldsValidatorIgnore -->
  <div class="container slds-border_top" style="height: 100%">
    <div lwc:ref="leftPane" class="slds-scrollable" style={leftStyle}>
      <table border="1">
        <tr class="table_header">
          <th></th>
          <th style="width: 100px" class="text_align_center">
            {labels.common_label_label}
          </th>
          <th style="width: 100px" class="text_align_center">
            {labels.common_label_API_name}
          </th>
          <th class="text_align_center">{labels.common_label_read}</th>
          <th class="text_align_center">{labels.common_label_create}</th>
          <th class="text_align_center">{labels.common_label_edit}</th>
          <th class="text_align_center">{labels.common_label_delete}</th>
          <th class="text_align_center">{labels.common_label_view_all}</th>
          <th class="text_align_center">{labels.common_label_modify_all}</th>
        </tr>
        <template
          for:each={objPermissionsToDisplay}
          for:item="objectPermission"
        >
          <tr key={objectPermission.apiName}>
            <td>
              <input
                type="radio"
                class="width_full"
                name="select"
                data-id={objectPermission.apiName}
                onclick={handleObjectChange}
              />
            </td>
            <td class="text_align_center">{objectPermission.label}</td>
            <td class="text_align_center">{objectPermission.apiName}</td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.isReadable}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.isCreateable}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.isEditable}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.isDeletable}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.viewAll}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={objectPermission.modifyAll}
              />
            </td>
          </tr>
        </template>
      </table>
    </div>
    <div
      lwc:ref="splitter"
      class="slds-border_right slds-border_left slds-border_top slds-border_bottom splitter"
      role="separator"
      aria-orientation="vertical"
      aria-valuenow={leftWidth}
      tabindex="0"
      onpointerdown={onPointerDownHandler}
    ></div>
    <div lwc:ref="rightPane" class="slds-scrollable" style={rightStyle}>
      <table border="1">
        <tr class="table_header">
          <th class="text_align_center">{labels.common_label_label}</th>
          <th class="text_align_center">{labels.common_label_API_name}</th>
          <th class="text_align_center">{labels.common_label_read}</th>
          <th class="text_align_center">{labels.common_label_edit}</th>
        </tr>
        <template
          for:each={fieldPermissionsToDisplay}
          for:item="fieldPermission"
        >
          <tr key={fieldPermission.apiName}>
            <td class="text_align_center">{fieldPermission.label}</td>
            <td class="text_align_center">{fieldPermission.apiName}</td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={fieldPermission.isReadable}
              />
            </td>
            <td>
              <input
                type="checkbox"
                class="width_full"
                onclick={preventDefaultCheck}
                checked={fieldPermission.isEditable}
              />
            </td>
          </tr>
        </template>
      </table>
    </div>
  </div>
</template>
